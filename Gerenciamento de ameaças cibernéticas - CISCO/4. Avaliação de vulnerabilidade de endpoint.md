# Perfilamento de Rede (Network Profiling)
Processo de compreender, caracterizar e analisar o funcionamento **normal** de uma rede para criar uma **linha de base (baseline)** estatística. Essa linha de base serve como um ponto de referência para identificar desvios que possam indicar um incidente de segurança.

## A Importância da Linha de Base (Baseline)
-   **Ponto de Referência:** Desvios inexplicáveis em relação ao comportamento normal estabelecido na linha de base podem indicar um sistema comprometido, extração de dados ou outra atividade maliciosa.
-   **Pré-requisito para Detecção:** É impossível detectar um comportamento anormal se o comportamento normal não for conhecido.

## Criando uma Linha de Base Eficaz
-   **Relevância:** A linha de base deve incluir todas as operações normais (como backups periódicos) e excluir dados de operações que não existem mais (ex: tráfego para um servidor que foi migrado para a nuvem).
-   **Atualização Contínua:** Deve ser atualizada constantemente para refletir o estado atual da rede. Uma técnica para isso é a **detecção de anomalias de janela deslizante**, que utiliza apenas os dados mais recentes e representativos.
-   **Duração:** A captura de dados deve ocorrer durante um período prolongado para abranger as variações de uso da rede (diferentes horários do dia, dias da semana, etc.).

## Elementos e Métricas do Perfilamento
Para construir um perfil completo, várias métricas devem ser monitoradas:

#### Métricas de Rede e Tráfego
-   **Duração da Sessão:** O tempo entre o início e o fim de um fluxo de dados.
-   **Taxa de Transferência (Throughput):** A quantidade de dados que passa entre uma origem e um destino em um certo período.
-   **Portas Utilizadas:** Monitoramento das portas TCP/UDP que estão em uso. O uso de portas incomuns pode indicar a presença de malware.
-   **Tráfego Host-para-Host:** Um aumento no tráfego direto entre clientes (em vez de cliente-servidor) pode indicar que um malware está se espalhando lateralmente na rede.
-   **Espaço de Endereço de Ativos Críticos:** O mapeamento de IPs e localizações lógicas de sistemas e dados essenciais.

#### Métricas de Comportamento
-   **Comportamento do Usuário:** Alterações nos padrões de uso normais de um usuário, detectadas através de logs de AAA ou sistemas como o **Cisco ISE**. Um login em horário ou local incomum, por exemplo, é um forte indicador de conta comprometida.

## Ferramentas Comuns
-   NetFlow
-   Wireshark

# Perfilamento de Servidor (Server Profiling)
Processo utilizado para estabelecer o estado operacional aceito de um servidor, criando uma **linha de base de segurança** específica para ele.

Este perfil define os parâmetros de rede, usuário e aplicação que são considerados normais e permitidos para aquele servidor, com base em sua função na rede.

## Elementos de um Perfil de Servidor
-   **Portas de Escuta (Listening Ports):**
    -   Define quais daemons e portas TCP/UDP devem estar normalmente abertos no servidor. Qualquer porta aberta fora desta lista é considerada uma anomalia.

-   **Usuários e Contas Logados:**
    -   Estabelece os parâmetros que definem o acesso e o comportamento normal dos usuários no servidor.

-   **Contas de Serviço:**
    -   Define os tipos de serviços e as permissões que uma aplicação pode executar no sistema.

-   **Ambiente de Software:**
    -   Lista quais tarefas, processos e aplicações têm permissão para serem executados no servidor. A execução de um software não autorizado viola a linha de base.

# Detecção de Anomalias de Rede
Uma abordagem para a detecção de ataques de rede que envolve a análise de grandes e diversos volumes de dados (como fluxos de pacotes e telemetria) utilizando técnicas de *Big Data*.

## Análise de Comportamento de Rede (NBA - Network Behavior Analysis)
Esta é a principal técnica por trás da detecção de anomalias.

-   **Como funciona:** Utiliza métodos sofisticados de estatística e *machine learning* para comparar as linhas de base (baselines) do desempenho normal da rede com o comportamento em tempo real.
-   **Objetivo:** Identificar desvios significativos em relação ao normal, que podem ser Indicadores de Comprometimento (IOCs).
-   **Exemplos de Detecção:** Pode reconhecer o tráfego gerado por um *worm* que está varrendo a rede ou identificar um host infectado que está procurando outras máquinas vulneráveis.

## Tipos de Detecção de Anomalias
Existem duas abordagens principais para a detecção de anomalias:

1.  **Baseada em Estatística/Comportamento:**
    -   Foca em desvios do que é considerado "normal".
    -   **Exemplo de Algoritmo:** "A cada 5 minutos, colete uma amostra de fluxos. Se o número de fluxos for maior que 500, gere um alarme." Este é um uso simples de um perfil de tráfego para identificar uma atividade potencialmente maliciosa, como uma perda de dados.

2.  **Baseada em Regras:**
    -   Uma abordagem mais tradicional, que analisa o conteúdo dos pacotes em busca de padrões (assinaturas) de ataques já conhecidos e predefinidos.

# Teste de Vulnerabilidade de Rede
Devido à constante exposição à internet e ao surgimento de novas falhas, testes de segurança periódicos são essenciais para proteger a rede de uma organização. Existem diferentes tipos de testes, cada um com um foco específico.

## Análise de Risco
-   **O que é:** Uma disciplina que avalia o **risco** que as vulnerabilidades representam para os negócios da organização.
-   **O que envolve:**
    -   Avaliar a probabilidade de um ataque ocorrer.
    -   Identificar os prováveis tipos de agentes de ameaça (atacantes).
    -   Determinar o impacto de uma exploração bem-sucedida na organização.
-   **Ferramentas/Métodos:** Frameworks de gestão de risco, consultoria interna ou externa.

## Avaliação de Vulnerabilidade
-   **O que é:** Um teste que emprega softwares para **escanear** redes (internas e externas) e servidores em busca de uma ampla gama de vulnerabilidades conhecidas.
-   **O que busca:**
    -   Infecções por malware.
    -   Fraquezas em bancos de dados.
    -   Patches de software ausentes.
    -   Portas de escuta desnecessárias.
-   **Ferramentas:** OpenVAS, Microsoft Baseline Security Analyzer, Nessus, Qualys, Nmap.

## Teste de Penetração (Pen Test)
-   **O que é:** Utiliza **ataques simulados e autorizados** para testar ativamente a força das defesas de uma rede. É realizado por pessoal interno especializado ou por hackers éticos profissionais.
-   **Diferencial Chave:** Diferente da avaliação de vulnerabilidade, o Pen Test não apenas **encontra** as falhas, mas também as **explora** para determinar o impacto real de um ataque bem-sucedido.
-   **Ferramentas:** Metasploit, CORE Impact.

# Visão Geral do CVSS (Common Vulnerability Scoring System)
É uma ferramenta de avaliação de risco, padrão da indústria, aberta e neutra de fornecedores, projetada para comunicar os atributos e a gravidade de vulnerabilidades em sistemas de hardware e software.

## Como Funciona
-   O CVSS utiliza uma variedade de métricas para "pesar" os riscos de uma vulnerabilidade.
-   A combinação dessas métricas resulta em uma **pontuação numérica** que representa o risco inerente da falha.
-   Essa pontuação ajuda as equipes a determinar a **urgência** e a **prioridade** com que a vulnerabilidade deve ser corrigida.

## Benefícios
-   **Padronização:** Fornece pontuações de vulnerabilidade padronizadas, que são consistentes entre diferentes organizações e ferramentas.
-   **Estrutura Aberta:** É um framework aberto, com o significado de cada métrica disponível publicamente para todos os usuários.
-   **Priorização:** Ajuda as organizações a priorizar a correção de riscos de uma maneira significativa e objetiva.

## Governança
-   O **FIRST (Forum of Incident Response and Security Teams)** foi designado como o guardião responsável por manter e promover o padrão CVSS globalmente.
-   A versão 3.1, a mais recente citada no texto, foi lançada em junho de 2019.

# Grupos de Métricas do CVSS
O CVSS utiliza três grupos de métricas para avaliar a severidade de uma vulnerabilidade, permitindo uma análise que vai do geral ao específico.

### 1. Grupo de Métricas Base
Representa as características intrínsecas e fundamentais de uma vulnerabilidade. Estes valores são **constantes** ao longo do tempo e não mudam entre diferentes ambientes.

-   **Métricas de Exploração:** Avaliam a facilidade e os meios pelos quais a vulnerabilidade pode ser explorada.
    -   **Vetor de Ataque:** Como a vulnerabilidade é explorada (ex: rede, adjacente, local, físico).
    -   **Complexidade do Ataque:** O nível de dificuldade para explorar a falha.
    -   **Privilégios Necessários:** O nível de privilégio que um atacante precisa ter antes da exploração.
    -   **Interação do Usuário:** Se a exploração requer a participação de um usuário.
-   **Métricas de Impacto:** Medem as consequências de uma exploração bem-sucedida, com base na tríade CIA (Confidencialidade, Integridade e Disponibilidade).
-   **Escopo:** Indica se a vulnerabilidade pode afetar recursos além do componente vulnerável.

### 2. Grupo de Métricas Temporais
Mede características que **mudam com o tempo**, mas são as mesmas para todos os ambientes. A pontuação de uma vulnerabilidade pode diminuir à medida que patches se tornam disponíveis, ou aumentar quando um código de exploração funcional (*exploit*) é divulgado.

-   **Maturidade do Código de Exploração:** A disponibilidade de exploits para a falha.
-   **Nível de Correção:** A disponibilidade de correções ou patches.
-   **Confiança do Relatório:** A certeza sobre a existência da vulnerabilidade.

### 3. Grupo de Métricas Ambientais
Mede características que são **específicas para o ambiente de uma organização**. Permite que uma empresa ajuste a pontuação da vulnerabilidade com base na importância dos sistemas afetados e nos controles de segurança existentes em seu ambiente específico.

-   **Métricas Base Modificadas:** Permitem que a organização ajuste as métricas base para refletir seus controles de segurança.
-   **Requisitos de Confidencialidade, Integridade e Disponibilidade:** Permitem ponderar o impacto da vulnerabilidade com base na importância do ativo afetado para a organização.

# Detalhes do Grupo de Métricas Base do CVSS
Este grupo mede as características intrínsecas e imutáveis de uma vulnerabilidade. É composto por duas categorias principais: Métricas de Exploração e Métricas de Impacto.

## Métricas de Exploração
Avaliam a facilidade e os meios pelos quais a vulnerabilidade pode ser explorada.

-   **Vetor de Ataque:**
    -   Reflete a proximidade que o atacante precisa ter do alvo. Quanto mais remoto o ataque puder ser (ex: pela internet), maior a gravidade.

-   **Complexidade do Ataque:**
    -   Descreve as condições fora do controle do atacante que precisam existir para a exploração. Quanto menor a complexidade, maior a gravidade.

-   **Privilégios Necessários:**
    -   O nível de acesso (ou a falta dele) que um atacante precisa ter no sistema *antes* de explorar a falha.

-   **Interação do Usuário:**
    -   Indica se é necessária a participação de um usuário (além do atacante) para que a exploração funcione.

-   **Escopo:**
    -   Avalia se a exploração da falha pode impactar componentes além do alvo inicial, ou seja, se o impacto "vaza" para outros sistemas ou escopos de segurança.

## Métricas de Impacto
Medem as consequências de uma exploração bem-sucedida, com base na tríade CIA.

-   **Impacto na Confidencialidade:**
    -   Mede o impacto no sigilo das informações, como o vazamento de dados que deveriam ser restritos.

-   **Impacto na Integridade:**
    -   Mede o impacto na confiabilidade e autenticidade dos dados, como a possibilidade de alteração não autorizada de informações.

-   **Impacto na Disponibilidade:**
    -   Mede o impacto na acessibilidade dos sistemas e informações, como em ataques de negação de serviço (DoS) que consomem recursos (largura de banda, processador, etc.).

# O Processo e a Calculadora CVSS
O processo de pontuação de uma vulnerabilidade é facilitado por uma ferramenta interativa que calcula a severidade com base nos três grupos de métricas. O Grupo Base estabelece a gravidade inicial, que é então modificada pelos grupos Temporal e Ambiental para maior precisão.

## A Ferramenta: Calculadora CVSS
-   O processo utiliza a **Calculadora CVSS v3.1**, uma ferramenta online (disponível no site da **FIRST**) que funciona como um questionário.
-   O analista seleciona os valores que melhor descrevem a vulnerabilidade para cada métrica.
-   Ao final, a calculadora gera dois resultados principais: uma **pontuação numérica** e um **Vetor (Vector String)**.

## O Vetor CVSS (Vector String)
É uma representação textual e compacta de todos os valores selecionados para uma vulnerabilidade. Ele permite que as características da falha sejam facilmente compartilhadas e registradas.

-   **Exemplo de Vetor:** `CVSS:3.1/AV:N/AC:L/PR:H/UI:N/S:U/C:L/I:L/A:N`
    -   **AV:N** = Vetor de Ataque: Rede (Network)
    -   **AC:L** = Complexidade do Ataque: Baixa (Low)
    -   **PR:H** = Privilégios Necessários: Alto (High)
    -   ... e assim por diante.

## Fluxo de Cálculo da Pontuação
O cálculo da pontuação final ocorre em etapas, onde cada grupo de métricas refina o resultado do anterior.

1.  **Pontuação Base (Base Score):**
    -   É gerada a partir do **Grupo de Métricas Base**.
    -   Essa pontuação é definida pelo fornecedor do software/hardware e, uma vez definida, **não muda**.

2.  **Pontuação Temporal (Temporal Score):**
    -   Utiliza a **Pontuação Base** e a ajusta com as informações do **Grupo de Métricas Temporais**.
    -   Essa pontuação pode **mudar com o tempo**, por exemplo, diminuindo quando um patch de correção é lançado.

3.  **Pontuação Ambiental (Environmental Score):**
    -   Utiliza a **Pontuação Temporal** e a ajusta com as informações do **Grupo de Métricas Ambientais**.
    -   Essa é a pontuação final e mais precisa para uma organização específica, pois é **definida pelo usuário final** para refletir o impacto em seu ambiente particular.

# Relatórios e Classificação de Severidade CVSS
A pontuação final do CVSS é usada para orientar a organização na alocação de recursos e na priorização da correção de vulnerabilidades.

## O Processo de Relatório
-   **Fornecedor:** Geralmente, o fornecedor do software ou hardware vulnerável fornece as pontuações dos grupos **Base** e **Temporal**.
-   **Organização Afetada:** A empresa que utiliza o produto completa o grupo **Ambiental** para adaptar a pontuação ao seu contexto específico e obter a classificação de risco final.
-   **Comunicação:** As pontuações podem ser expressas numericamente ou através de rótulos qualitativos, que são mais fáceis de comunicar a stakeholders não-técnicos.

## Tabela de Classificação de Severidade
Os intervalos de pontuação e seus significados qualitativos correspondentes são:

| Classificação Qualitativa | Intervalo de Pontuação (Score) |
| ------------------------- | ------------------------------ |
| Nada (None)               | 0                              |
| Baixo (Low)               | 0.1 - 3.9                      |
| Médio (Medium)            | 4.0 - 6.9                      |
| Alto (High)               | 7.0 - 8.9                      |
| Crítico (Critical)        | 9.0 - 10.0                     |

## Considerações sobre Remediação
-   **Linha de Base para Ação:** O texto sugere que, em geral, qualquer vulnerabilidade com pontuação **acima de 3.9 (ou seja, Média ou superior)** deve ser resolvida.
-   **Prioridade:** Quanto maior a pontuação, maior o impacto potencial da exploração e, consequentemente, maior a urgência para a correção.

# Outras Fontes de Informações sobre Vulnerabilidades
Além do CVSS, existem outros sistemas importantes que trabalham em conjunto para fornecer uma avaliação completa da gravidade de uma vulnerabilidade.

## CVE (Common Vulnerabilities and Exposures)
-   **O que é:** Um dicionário que atribui um nome padrão (um **ID CVE**, como `CVE-2021-44228`) para cada vulnerabilidade de segurança publicamente conhecida. É mantido pela **MITRE Corporation**.
-   **Objetivo:**
    -   Criar um identificador único para facilitar a referência, a busca e o compartilhamento de informações sobre uma falha específica.
    -   É amplamente utilizado em logs de sistemas de segurança e por serviços de inteligência de ameaças para referenciar vulnerabilidades de forma padronizada.
-   **Relação com o CVSS:** O site *CVE Details* é um exemplo de recurso que conecta os IDs CVE às suas respectivas pontuações CVSS, permitindo pesquisar e filtrar vulnerabilidades por seu nível de gravidade.

## NVD (National Vulnerability Database)
-   **O que é:** Um banco de dados do governo dos EUA, mantido pelo **NIST (National Institute of Standards and Technology)**, que utiliza os identificadores CVE e os enriquece com informações adicionais.
-   **O que o NVD adiciona ao CVE:**
    -   A **pontuação de severidade CVSS** correspondente.
    -   Detalhes técnicos sobre a vulnerabilidade.
    -   A lista de softwares, hardwares e versões afetadas.
    -   Referências e recursos para investigação e correção.

# O Processo de Gestão de Riscos
É um processo contínuo, cíclico e de várias etapas para selecionar e especificar controles de segurança, gerenciando o risco para a organização.

## As 5 Fases do Ciclo de Gestão de Riscos
O processo é contínuo e segue um ciclo de cinco fases principais:

1.  **Identificação de Riscos:**
    -   Identificar os ativos, as vulnerabilidades e as ameaças relevantes para a organização.
2.  **Avaliação de Risco:**
    -   Pontuar, ponderar e priorizar os riscos que foram identificados.
3.  **Planejamento da Resposta:**
    -   Determinar a estratégia de resposta para cada risco e planejar as ações necessárias.
4.  **Implementação da Resposta:**
    -   Executar as ações planejadas (implementar controles de segurança, etc.).
5.  **Monitoramento e Avaliação:**
    -   Monitorar continuamente o ambiente de risco e avaliar a eficácia da resposta implementada, reiniciando o ciclo.

## Aprofundamento na Avaliação de Risco
Conforme descrito na publicação **NIST SP 800-30**, a avaliação de risco é o processo de identificar, estimar e priorizar os riscos de segurança.

-   **Emparelhamento Ameaça-Vulnerabilidade (T–V):**
    -   Uma atividade crucial que consiste em mapear ameaças específicas a vulnerabilidades correspondentes para entender como um ataque pode ocorrer.
    -   Esse mapeamento cria uma linha de base do **risco inerente** (o risco antes da implementação de quaisquer controles de segurança).
-   **Priorização:**
    -   Após a identificação, os riscos são ponderados para priorizar a resposta. Riscos com maior impacto para a organização ou vulnerabilidades que podem ser exploradas por múltiplas ameaças recebem uma classificação mais alta.

## Estratégias de Resposta ao Risco
Existem quatro formas principais de responder a um risco identificado:

-   **Prevenção (Avoidance):**
    -   Parar de realizar a atividade que gera o risco. É uma opção quando o risco envolvido supera o benefício da atividade para a organização.
-   **Redução (Mitigation):**
    -   Diminuir o risco tomando medidas para reduzir a vulnerabilidade. Esta é a estratégia mais comum e envolve a implementação de controles, como aplicar patches em servidores.
-   **Compartilhamento (Sharing/Transfer):**
    -   Transferir parte do risco para terceiros. Exemplos incluem a compra de um seguro de cibersegurança ou a terceirização de operações de segurança para um provedor de **SECaaS (Security as a Service)**.
-   **Retenção (Acceptance):**
    -   Aceitar o risco e suas consequências. Esta estratégia é geralmente usada para riscos de baixo impacto ou para aqueles cujo custo de mitigação é proibitivo.

# Gestão de Vulnerabilidades
De acordo com o NIST, é uma prática de segurança projetada para **impedir proativamente** a exploração de vulnerabilidades de TI existentes em uma organização.

O objetivo é reduzir o tempo e os custos gastos ao lidar com falhas, sendo consideravelmente mais eficaz do que responder a um incidente *após* a exploração ter ocorrido.

## O Ciclo de Vida da Gestão de Vulnerabilidades
É um processo contínuo e cíclico, composto por seis fases principais:

1.  **Descobrir:**
    -   Realizar um inventário de todos os ativos da rede, identificar seus detalhes (sistema operacional, serviços abertos) e escanear regularmente em busca de vulnerabilidades de forma automatizada.

2.  **Priorizar Ativos:**
    -   Categorizar os ativos em grupos e atribuir um valor a eles com base em sua importância crítica para as operações do negócio.

3.  **Avaliar:**
    -   Determinar o perfil de risco de cada vulnerabilidade, levando em conta a importância do ativo, as ameaças associadas e a gravidade da falha.

4.  **Relatar:**
    -   Medir o nível de risco de negócio associado aos ativos de acordo com as políticas de segurança. Documentar os planos de ação e monitorar atividades.

5.  **Remediar:**
    -   Priorizar a correção das vulnerabilidades com base no risco de negócio que elas representam, tratando as mais críticas primeiro.

6.  **Verificar:**
    -   Realizar auditorias de acompanhamento para confirmar que as ameaças foram de fato eliminadas após a remediação, reiniciando o ciclo.

# Gerenciamento de Ativos (Asset Management)
É o processo de implementar sistemas para controlar a localização e a configuração de todos os dispositivos e softwares conectados a uma rede corporativa.

## Objetivos Principais
O gerenciamento de ativos é um pilar de qualquer plano de segurança, buscando responder a perguntas essenciais:

-   **O quê?** Saber quais equipamentos acessam a rede.
-   **Onde?** Saber onde esses equipamentos estão localizados, tanto fisicamente quanto logicamente na topologia da rede.
-   **Acesso:** Saber quais softwares e dados esses sistemas armazenam ou podem acessar.
-   **Controle:** Identificar tanto os dispositivos **autorizados** (e suas configurações) quanto os **não autorizados** que possam estar conectados à rede.

## Processo de Gerenciamento de Ativos (Baseado no NIST)
O NIST (National Institute of Standards and Technology) descreve um processo cíclico para a gestão de ativos:

1.  **Descoberta e Inventário:**
    -   Utilizar ferramentas automatizadas para detectar e criar um inventário do **estado real** de todos os dispositivos na rede.

2.  **Definição do Estado Desejado:**
    -   Articular, através de políticas e procedimentos, qual deve ser o **estado desejado** (a configuração ideal e segura) para esses dispositivos.

3.  **Identificação de Não Conformidades:**
    -   Comparar o estado real com o estado desejado para identificar ativos autorizados que não estão em conformidade com as políticas de segurança.

4.  **Remediação ou Aceitação:**
    -   Corrigir (remediar) os dispositivos que não estão em conformidade para alinhá-los ao estado desejado, ou aceitar formalmente o risco associado à sua configuração atual.

5.  **Repetição:**
    -   Repetir todo o processo continuamente ou em intervalos regulares para manter o inventário e as configurações dos ativos sempre atualizados.

# Gerenciamento de Dispositivos Móveis (MDM)
O gerenciamento de dispositivos móveis (smartphones, tablets, etc.) apresenta desafios de segurança únicos, especialmente em ambientes **BYOD (Traga seu Próprio Dispositivo)**, onde os aparelhos não são propriedade da empresa.

## Principais Desafios
-   **Falta de Controle Físico:** Os dispositivos saem das instalações da empresa, aumentando o risco de perda, roubo ou adulteração.
-   **Risco de Acesso:** Um dispositivo comprometido pode se tornar um ponto de acesso não autorizado a dados e à rede corporativa.
-   **Diversidade de Dispositivos:** A grande variedade de aparelhos e sistemas operacionais faz com que alguns sejam inerentemente menos seguros que outros.

## Princípio de Segurança e Medidas
-   **Princípio da Desconfiança:** A equipe de segurança deve assumir que todo dispositivo móvel **não é confiável** até que tenha sido adequadamente protegido e validado pela organização.
-   **Ações de Resposta (MDM Plan):** Um plano de MDM deve incluir ações para quando um dispositivo é perdido ou roubado, como:
    -   **Desativação remota** do dispositivo.
    -   **Criptografia** dos dados armazenados no aparelho.
    -   Exigência de métodos de **autenticação robusta** para o acesso.

## Soluções de MDM
-   São plataformas que permitem que a equipe de segurança gerencie um grande número de dispositivos móveis de forma centralizada.
-   **Exemplo:** Sistemas como o **Cisco Meraki Systems Manager** permitem configurar, monitorar e atualizar uma frota diversificada de clientes móveis a partir da nuvem.

# Gerenciamento de Configurações (Configuration Management)
É o processo que aborda o inventário e o controle das configurações de hardware e software de todos os sistemas de uma organização para garantir que sejam seguras, padronizadas e íntegras.

## Objetivo e Aplicação
-   **Objetivo Principal:** Reduzir a superfície de ataque e o risco de segurança, garantindo que os sistemas sejam implantados e mantidos em um estado seguro conhecido.
-   **Aplicação Prática (Exemplo):**
    -   Para computadores de funcionários, a organização pode criar **imagens de software de linha de base (baselines)**.
    -   Essas imagens já contêm o sistema operacional, softwares essenciais, antivírus e políticas de segurança pré-definidas, garantindo uma configuração padronizada e segura desde o início.
-   **Escopo:** O processo se aplica não apenas a estações de trabalho, mas também a servidores e dispositivos de rede.

## Definição do NIST
O NIST (National Institute of Standards and Technology) define o gerenciamento de configurações como um conjunto de atividades para:

> "...estabelecer e manter a integridade de produtos e sistemas, através do controle dos processos de **inicialização, alteração e monitoramento** das configurações desses produtos e sistemas."

## Ferramentas de Gerenciamento
Existem ferramentas específicas para automatizar o gerenciamento de configurações em diferentes tipos de ativos:

-   **Para Dispositivos de Rede:**
    -   Existem softwares que permitem fazer backup de configurações, detectar alterações não autorizadas e aplicar mudanças em massa em múltiplos equipamentos (roteadores, switches, etc.).
-   **Para Servidores (Especialmente em Nuvem e Virtualização):**
    -   Para gerenciar de forma eficiente múltiplos servidores, especialmente em data centers modernos, são usadas ferramentas de automação e orquestração como:
        -   Puppet
        -   Chef
        -   Ansible
        -   SaltStack

# Gerenciamento de Patches Corporativos (Patch Management)
É o processo, intimamente ligado à gestão de vulnerabilidades, que abrange todas as etapas de aplicação de correções (*patches*) em softwares para mitigar falhas de segurança.

## Escopo e Importância
-   **O que precisa de patches?:**
    -   Sistemas operacionais (de clientes, servidores e dispositivos de rede).
    -   Firmwares de dispositivos.
    -   Softwares de aplicação, especialmente os voltados para a internet (como Java, Acrobat, etc.).
-   **Por que é crucial?:**
    -   É frequentemente a maneira **mais eficaz** (e, às vezes, a única) de mitigar vulnerabilidades de software.
    -   É um requisito obrigatório para diversas regulamentações de conformidade, como **SOX** (Sarbanes-Oxley) e **HIPAA**. A falha em aplicar patches pode resultar em multas e falhas de auditoria.

## O Processo de Gerenciamento de Patches
É um ciclo de vida que envolve as seguintes etapas:

1.  **Identificação:** Identificar quais patches são necessários para os sistemas da organização.
2.  **Aquisição:** Obter os patches corretos junto aos fornecedores.
3.  **Distribuição:** Enviar os patches para os sistemas que precisam ser atualizados.
4.  **Instalação:** Aplicar os patches nos sistemas.
5.  **Verificação:** Confirmar que a instalação foi bem-sucedida em todos os sistemas alvo.

## Dependências e Ferramentas
-   **Dependência:** Um bom processo de gerenciamento de patches depende diretamente de um **Gerenciamento de Ativos** eficaz para saber quais sistemas existem na rede e quais softwares eles executam.
-   **Ferramentas:** Existem diversas ferramentas para automatizar o processo.
    -   **Exemplos Gerais:** SolarWinds, LANDesk.
    -   **Para Ambientes Microsoft:** O **Microsoft SCCM (System Center Configuration Manager)** é uma solução de nível empresarial amplamente utilizada para a distribuição automatizada de patches.

# Técnicas de Gerenciamento de Patches
Existem diferentes abordagens para descobrir quais sistemas precisam de patches e para implantar essas correções.

## 1. Baseado em Agente (Agent-based)
-   **Como Funciona:** Um software **agente** é instalado em cada dispositivo final (computador, servidor, etc.).
-   **Processo:**
    1.  O agente se comunica com um servidor central de gerenciamento de patches.
    2.  Ele informa ao servidor quais softwares estão instalados no dispositivo e quais patches são necessários.
    3.  O servidor, então, instrui o agente, que utiliza seus privilégios elevados para instalar as correções diretamente no dispositivo.
-   **Vantagem:** É o método preferido para dispositivos móveis, pois o agente funciona independentemente da localização de rede do dispositivo.

## 2. Varredura sem Agente (Agentless)
-   **Como Funciona:** O servidor central de gerenciamento de patches **escaneia ativamente** a rede em busca de dispositivos.
-   **Processo:**
    1.  O servidor se conecta remotamente aos dispositivos que encontra na rede.
    2.  Ele determina quais patches são necessários e "empurra" (*pushes*) a instalação para os clientes.
-   **Limitação:** Só funciona para dispositivos que estão conectados aos segmentos de rede que são escaneados, o que pode ser um problema para dispositivos móveis ou remotos que não estão na rede corporativa.

## 3. Monitoramento de Rede Passivo
-   **Como Funciona:** Os dispositivos que precisam de patches são identificados através do **monitoramento passivo do tráfego** da rede.
-   **Processo:** A técnica consiste em "ouvir" o tráfego e buscar por informações de versão de software que são transmitidas dentro dos próprios pacotes de rede.
-   **Limitação:** Só é eficaz para softwares que incluem explicitamente suas informações de versão no tráfego de rede que geram.